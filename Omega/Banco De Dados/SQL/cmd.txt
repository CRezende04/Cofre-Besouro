 USE sptech;

 SHOW TABLES;

CREATE TABLE historico (
id INT PRIMARY KEY AUTO_INCREMENT,
nome VARCHAR(200) NOT NULL,
dataHora DATETIME DEFAULT current_timestamp,
url VARCHAR(250) NOT NULL,
navegador VARCHAR(100)
);

INSERT INTO historico (nome, url, navegador) VALUES
	('São Paulo Tech School', 'https://moodle.sptech.school/', 'Microsoft Edge'),
	('Página Inicial - Microsoft Azure', 'https://portal.azure.com/#home', 'Microsoft Edge'),
	('Ofertas e Promoções | Amazon.com.br', 'https://www.amazon.com.br/deals?ref_=nav_cs_gb', 'Firefox Developer Edition'),
	('404 Not Found', 'http://moodletech.azurewebsites.net/', 'Firefox Developer Edition'),
	('Working...', 'https://login.microsoftonline.com/kmsi', 'Firefox Developer Edition'),
	('Email - Usuario Aluno - Outlook', 'https://outlook.office.com/mail/', 'Firefox Developer Edition'),
	('Solicitações - Suporte - Digital Building', 'https://bandtec.sdpondemand.manageengine.com/app/itdesk/ui/requests', 'Firefox Developer Edition'),
	('Carrinho de compras da Amazon.com', 'https://www.amazon.com.br/gp/cart/view.html?ref_=nav_cart', 'Firefox Developer Edition'),
	('MySQL | Begin Your Download', 'https://dev.mysql.com/downloads/file/?id=516926', 'Firefox Developer Edition'),
	('MySQL | Download MySQL Installer', 'https://dev.mysql.com/downloads/installer/', 'Firefox Developer Edition');

SELECT * FROM historico;

CREATE TABLE usuario (
id int primary key auto_increment,
nome varchar(50),
cpf char(14) unique);

INSERT INTO usuario VALUES
(null,'Isabel','123.456.789-10'),
(null,'Felipe','987.654.321-00');

SELECT * FROM usuario;
 
ALTER TABLE historico ADD COLUMN fkUser INT;
ALTER TABLE historico ADD FOREIGN KEY (fkUser) REFERENCES usuario (id);

SELECT id, fkUser FROM historico;

UPDATE historico SET fkUser = 2 WHERE id IN (1,3,5,6,8,10);

SELECT usuario.nome, historico.navegador
	FROM usuario JOIN historico
	ON usuario.id = historico.fkUser;
